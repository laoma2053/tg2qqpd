# ==================================================
# Telegram 相关配置
# ==================================================

# Telegram API ID
# 在 https://my.telegram.org 申请
# ⚠️ 必填，不可乱填
TG_API_ID=33408648

# Telegram API HASH
# 同上页面获取
TG_API_HASH=95d0ae60dd14e53f009d7ba88fe2fbfc

# Telegram Session 名称
# 本质是一个“登录态文件名”
# ✔️ 可以随便取
# ✔️ 建议固定，不要频繁改
TG_SESSION=tg2qqpd


# ==================================================
# QQ OpenAPI 新鉴权（推荐）
# ==================================================

# 使用 AppID + AppSecret 换取的 access_token（生命周期约 7200s，需自行刷新）
# Header: Authorization: QQBot {ACCESS_TOKEN}
# QQ_ACCESS_TOKEN 可不填：不填就走自动刷新；
# 填了则会优先用手动 token（但不会自动刷新）
QQ_ACCESS_TOKEN=

# OpenAPI Base（一般不需要改）
QQ_API_BASE=https://api.sgroup.qq.com

# QQ App Secret
# QQ OpenAPI 新鉴权（推荐）
# - 自动刷新需要 QQ_APP_ID + QQ_APP_SECRET
# - 若你手动填入 QQ_ACCESS_TOKEN，则程序会优先使用它（不自动刷新）
QQ_APP_SECRET=j9a1TvOrLqLrNuRzX6fFpQ2eHuYCrWCs

# access_token 提前刷新窗口（秒），默认 60
QQ_ACCESS_TOKEN_REFRESH_SKEW=60

# WS intents（保活默认只订阅最小 GUILDS: 1<<0 = 1）
QQ_WS_INTENTS=1


# ==================================================
# QQ 频道 Bot 配置
# ==================================================

# QQ Bot 的 AppID
# 来自 QQ 机器人后台
QQ_APP_ID=102835488

# QQ Bot 的 Token
# ⚠️ 极其敏感，不要泄露
QQ_BOT_TOKEN=ZpLh8Tn1SPQJYU7kegBpLI7K8T2oEqmj


# ==================================================
# Redis 配置
# ==================================================

# Redis 主机名
# ⚠️ 使用 docker-compose 中的 service 名
# ❌ 不要写 127.0.0.1
REDIS_HOST=redis


# ==================================================
# PostgreSQL 数据库
# ==================================================

# 数据库连接串
# 格式：
# postgresql://用户名:密码@服务名:端口/数据库名
#
# ⚠️ 服务名必须是 docker-compose 里的 postgres
# ⚠️ 用户名 / 密码要和 compose 文件一致
DATABASE_URL=postgresql://tg2qq:tg2qqpass@postgres:5432/tg2qq


# ==================================================
# 后台管理 & 登录鉴权
# ==================================================

# JWT 签名密钥
# 用于后台 token 生成和校验
# ✔️ 自己随便写一长串
# ❌ 改了之后，所有已登录 token 失效（可接受）
JWT_SECRET=wcTzfSwPFYpflo1up3ZjAlDVgrZkVJs5gHY6YcEmF6l
# 后台管理员密码
# 登录后台时使用
# ✔️ 可以改
# ❌ 不要太简单
ADMIN_PASS=tg2qqpd


# ==================================================
# 行为级配置（可选，给你留的扩展位）
# ==================================================

# QQ 发送最小间隔（秒）
# 如果你哪天被风控，可以拉大
# 当前 worker 里是写死 sleep(1.5)
# 这个字段是给你后续升级用的
SEND_INTERVAL=1.5

# 是否开启 DEBUG 日志
# true / false
# 正常运行建议 false
DEBUG=false

# 是否开启 TG 事件调试日志（收到消息、白名单匹配、入队/丢弃原因）
# true / false
DEBUG_TG_EVENTS=true

# ==================================================
# 转发文案清洗（发送到 QQ 前）
# ==================================================

# 将 pan.quark.cn 链接替换为该地址（不含协议也可）
ZJ_BASE_URL=www.zhuiju.us

# 替换后的链接行末尾追加备注
ZJ_SUFFIX_NOTE=访问搜影片名或进QQ群搜索

# ==================================================
# 纯 ENV 模式（不依赖 mapping.json，适合运营）
# ==================================================

# 监听的 TG 频道（username），逗号分隔
TG_SOURCES=@Remux4KFilm,@Q_dianshiju,@Q_dongman,@Q_dianying

# 统一发送到的 QQ 子频道 channel_id（推荐直接填；若留空可配 QQ_TARGET_GUILD_ID 自动选择）
QQ_TARGET_CHANNEL_ID=

# QQ 频道（服务器）guild_id（可选）：当 QQ_TARGET_CHANNEL_ID 为空时，用它自动选择第一个文字子频道
QQ_TARGET_GUILD_ID=3628508121088643592

# 是否启用转发（true/false）
FORWARD_ENABLED=true

# 灰度比例：0~1（1=全量转发）
GRAY_RATIO=1

# 过滤模式：block / allow
FILTER_MODE=block

# 关键词过滤（逗号分隔；留空表示不启用）
FILTER_KEYWORDS=

# 正则过滤（逗号分隔；留空表示不启用）
FILTER_REGEX=

# 发送模板（可选）
TEMPLATE_PREFIX=
TEMPLATE_SUFFIX=
